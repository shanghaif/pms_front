webpackJsonp([63],{rIpc:function(n,e,t){(n.exports=t("acE3")(!1)).push([n.i,"\n.eneryimp {\n  width: 100%;\n  height: 100%;\n}\n.eneryimp .content-top {\n  width: 100%;\n  height: 20%;\n  margin: 0;\n  padding-top: 2%;\n}\n.eneryimp #list{\n  width: 100%;\n  height:70%;\n}\n.top-title {\n  font-size: 18px;\n  width: 10%;\n  height: 100%;\n  display: inline-block;\n  /* vertical-align: middle; */\n  line-height: 200%;\n  text-align: center;\n}\n.entop-list {\n  width: 16%;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  font-size: 18px;\n /*  margin-left: 1%; */\n  /* letter-spacing: 1px; */\n  line-height: 200%;\n}\n.entop-lists {\n  width: 20%;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  font-size: 18px;\n  line-height: 200%;\n}\n.top-dir {\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  font-size: 22px;\n  line-height: 170%;\n  color: #ccc;\n}\n.radio {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n  margin: 0 2% 0 0;\n  vertical-align: middle;\n  cursor: pointer;\n}\n.entop-list span {\n  vertical-align: middle;\n  cursor: pointer;\n}\n.checkbox {\n  width: 18px;\n  height: 18px;\n  cursor: pointer;\n  margin: 0 4% 0 0;\n  vertical-align: middle;\n}\n.enlist-checkbox {\n  width: 21%;\n}\n.enlist-checkboxs {\n  width: 24%;\n}\n.entop-list-radio {\n  display: inline-block;\n  /* vertical-align: middle; */\n  width: 80%;\n}\n.entop-list-radio .raiogroup, .enentop-list-checkbox .raiogroup {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  font-size: 24px;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-flow: row wrap;\n          flex-flow: row wrap\n}\n.raiogroup .el-radio-group, .raiogroup .el-checkbox-group {\n  width: 100%;\n}\n.eneryimp .el-radio, .eneryimp .el-checkbox {\n  margin-right: 2%;\n  margin-top: 1%;\n  margin-left: 0\n}\n.entop-list-radio .el-radio__label {\n  font-size: 16px\n}\n.elradios {\n  font-size: 24px\n}\n.enentop-list-checkbox {\n  width: 80%;\n  display: inline-block;\n  /* vertical-align: middle; */\n  text-align: left;\n  /* padding-left: 5%; */\n}\n.enentop-list-checkbox .el-checkbox__label {\n  font-size: 16px\n}\n.but-list {\n  width: 100%;\n  height: 4%;\n  text-align: right;\n  margin-top: 2%;\n}\n.but-title {\n  width: 50%;\n  height: 100%;\n  line-height: 200%;\n  display: inline-block;\n  vertical-align: middle;\n  color: #ccc;\n  font-size: 16px;\n  letter-spacing: 1px;\n}\n.but-on {\n  width: 5%;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  background-color: #1367A5;\n  padding: 0.4% 0;\n  text-align: center;\n  color: #fff;\n  border-radius: 5px;\n  font-size: 16px;\n  margin: 0 0 0 2%;\n  cursor: pointer;\n}\n.but-off {\n  width: 5%;\n  height: 100%;\n  display: inline-block;\n  vertical-align: middle;\n  background-color: #1367A5;\n  padding: 0.4% 0;\n  text-align: center;\n  color: #fff;\n  border-radius: 5px;\n  font-size: 16px;\n  margin: 0 2% 0 2%;\n  cursor: pointer;\n}\n#layui-layer1 {\n  border-radius: 5px;\n}\n.layui-layer-content {\n  background-color: #f0f0f0;\n  padding: 10% 0;\n}\n.layui-layer-content p {\n  text-align: center;\n  letter-spacing: 1px;\n  line-height: 25px;\n  font-size: 16px;\n}\n.layer-date {\n  color: #60afea;\n}\n.eneryimp .el-dialog__body {\n  background-color: #eeeeee;\n  text-align: center\n}\n.eneryimp .el-dialog__body  p {\n  letter-spacing: 1px\n}\n.eneryimp .el-dialog__title {\n  font-weight: 600;\n  letter-spacing: 1px\n}\n.content-top-top, .content-top-bottom {\n  height: 50%;\n}\n",""])},tRlF:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t("L7Pj");var i={data:function(){return{centerDialogVisible:!1,radios:[{name:"经济最优",id:1},{name:"能效最高",id:2},{name:"峰谷差最小",id:3},{name:"负荷波动最小",id:4},{name:"清洁能源消纳最大",id:5}],radio2:1,checkLists:[{name:"高温相变蓄热",id:1},{name:"压缩空气储能",id:2},{name:"高温相变光热发电",id:3},{name:"微网中心VRV空调",id:4},{name:"微网中心机房精密空调",id:5}],checkList:[1,2],xAxis_data:[],legend_data:[],series_data:[],advanceData:""}},created:function(){},mounted:function(){var n=this;this.en(),this.$http({url:this.$http.adornUrl("/efficiency/advance/chart/energy"),method:"post"}).then(function(e){var t=e.data;"success"===t.msg&&(n.xAxis_data=t.chart.xAxis,n.legend_data=t.chart.legend,n.series_data=t.chart.series,console.log(n.series_data),n.$options.methods.initChart.bind(n)())}),window.onresize=function(){document.getElementById("eneryimp")&&(document.getElementById("eneryimp").style.height=window.innerHeight-170+"px",echarts.init(document.getElementById("list")).resize())}},methods:{en:function(){document.getElementById("eneryimp").style.height=window.innerHeight-170+"px"},simulation:function(){var n=this;console.log(this.radio2),console.log(this.checkList),this.$http({url:this.$http.adornUrl("/efficiency/advance/simulation"),method:"post"}).then(function(e){var t=e.data;"success"===t.msg&&(n.advanceData=t.advance,n.xAxis_data=t.chart.xAxis,n.legend_data=t.chart.legend,n.series_data=t.chart.series,n.$options.methods.initChart.bind(n)(),n.$message({message:"恭喜你，仿真成功",type:"success"}))})},lxts:function(){console.log(this.advanceData),""==this.advanceData?this.$message({message:"请先仿真数据信息",type:"error"}):""!=this.advanceData&&(this.centerDialogVisible=!0)},initChart:function(){var n=echarts.init(document.getElementById("list")),e={color:["#FBEF1D","#157373","#666","red"],title:{text:" "},tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:this.legend_data},dataZoom:[{startValue:"00:00"},{type:"inside"}],grid:{x:80,y:50},xAxis:{boundaryGap:!1,type:"category",data:this.xAxis_data,name:"",axisTick:!0,axisLine:{lineStyle:{type:"solid",color:"#000",width:"2"}},axisLabel:{textStyle:{color:"#000"}}},yAxis:{type:"value",name:"功率",min:0,max:200,axisLabel:{formatter:"{value} kw",textStyle:{color:"#000"}},axisLine:{lineStyle:{type:"solid",color:"#000",width:"2"}}},series:[{name:this.legend_data[0],data:this.series_data[0].data,type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{color:"#FBEF1D"}}}},{name:this.legend_data[1],data:this.series_data[1].data,type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{color:"#157373"}}}},{name:this.legend_data[2],data:this.series_data[2].data,type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{color:"#666"}}}},{name:this.legend_data[3],data:this.series_data[3].data,type:"line",smooth:!0,itemStyle:{normal:{lineStyle:{color:"red"}}}}]};n.setOption(e)},eneryImpSimulation:function(){var n=this;console.log(this.advanceData.planId),this.$http({url:this.$http.adornUrl("/efficiency/advance/execute"),method:"post"}).then(function(e){"success"===e.data.msg?(n.$message({message:"执行成功",type:"success"}),n.centerDialogVisible=!1):n.$message({message:"执行失败",type:"error"})})}}},a={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",{staticClass:"eneryimp",attrs:{id:"eneryimp"}},[t("div",{staticClass:"content-top"},[t("div",{staticClass:"content-top-top"},[t("div",{staticClass:"top-title"},[n._v("提升方案：")]),n._v(" "),t("div",{staticClass:"entop-list-radio"},[t("div",{staticClass:"raiogroup"},[t("el-radio-group",{model:{value:n.radio2,callback:function(e){n.radio2=e},expression:"radio2"}},n._l(n.radios,function(e){return t("el-radio",{key:e.id,attrs:{label:e.id}},[n._v(n._s(e.name))])}))],1)])]),n._v(" "),t("div",{staticClass:"content-top-bottom"},[t("div",{staticClass:"top-title"},[n._v("参与系统：")]),n._v(" "),t("div",{staticClass:"enentop-list-checkbox"},[t("div",{staticClass:"raiogroup"},[t("el-checkbox-group",{model:{value:n.checkList,callback:function(e){n.checkList=e},expression:"checkList"}},n._l(n.checkLists,function(e){return t("el-checkbox",{key:e.id,attrs:{label:e.id}},[n._v(n._s(e.name))])}))],1)])])]),n._v(" "),t("div",{staticClass:"but-list"},[t("div",{staticClass:"but-on",on:{click:function(e){n.simulation()}}},[n._v("仿真")]),n._v(" "),t("div",{staticClass:"but-off",on:{click:function(e){n.lxts()}}},[n._v("提升")])]),n._v(" "),t("div",{attrs:{id:"list"}}),n._v(" "),t("el-dialog",{attrs:{title:"能效提升",visible:n.centerDialogVisible,width:"30%","font-weight":"700",center:"",data:n.advanceData},on:{"update:visible":function(e){n.centerDialogVisible=e}}},[t("p",{staticStyle:{color:"#000"}},[n._v("本次能效提升预计在"+n._s(n.advanceData.time))]),t("p",{staticClass:"layer-date"},[n._v(n._s(n.advanceData.timeslot))]),t("p",{staticStyle:{color:"#000"}},[n._v(n._s(n.advanceData.size)+"个时间段执行")]),n._v(" "),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(e){n.centerDialogVisible=!1}}},[n._v("取 消")]),n._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(e){n.eneryImpSimulation()}}},[n._v("确 定")])],1)])],1)},staticRenderFns:[]};var o=t("46Yf")(i,a,!1,function(n){t("y4J7")},null,null);e.default=o.exports},y4J7:function(n,e,t){var i=t("rIpc");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);t("XkoO")("261ed8f9",i,!0)}});