webpackJsonp([31],{"+/Eo":function(n,t,e){var a=e("2eOI");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("XkoO")("3ffc8156",a,!0)},"2eOI":function(n,t,e){(n.exports=e("acE3")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/* 搜索条件栏样式开始 */\n.device-form[data-v-146d4d3e] {\r\n  /* background-color: #eef4fa; */\r\n  border-radius: 5px 5px 0 0 ;\r\n  /* margin-bottom: 10px; */\r\n  height: 80px;\r\n  width: 100%;\r\n  padding: 0 10px 0 10px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-align: center;\r\n      -ms-flex-align: center;\r\n          align-items: center;\r\n  text-align: justify\n}\n.device-form-item[data-v-146d4d3e] {\r\n  margin-bottom: 0;\r\n  /* flex: 1 */\n}\n.device-form-item a[data-v-146d4d3e], .set-device-form-item a[data-v-146d4d3e] {\r\n  font-weight: 600;\r\n  font-size: 15px\n}\r\n/* 搜索条件栏样式结束 */\r\n/* 表格样式开始 */\n.device-list[data-v-146d4d3e] {\r\n  width: 100%;\r\n  height: 90%;\r\n  min-height: 90%;\r\n  margin: 0 auto;\r\n  font-size: 14px;\r\n  overflow-y: auto\n}\r\n/* 表格样式结束 */\r\n/* 增加修改配置页面样式开始 */\r\n/* .comm-device >>> .el-dialog {\r\n  height: 70%;\r\n}\r\n.comm-device >>> .el-dialog .el-dialog__body {\r\n  height: 80%;\r\n} */\n.set-device-form[data-v-146d4d3e] {\r\n  background-color: #eef4fa;\r\n  border-radius: 5px;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-orient: vertical;\r\n  -webkit-box-direction: normal;\r\n      -ms-flex-direction: column;\r\n          flex-direction: column;\r\n  width: 100%;\r\n  padding: 20px 0 0 1%;\r\n  /* height: 100%;\r\n  overflow-y: auto */\n}\n.set-device-form-item[data-v-146d4d3e] .el-form-item__content {\r\n  width: 50%;\r\n  display: -webkit-box;\r\n  display: -ms-flexbox;\r\n  display: flex;\r\n  -webkit-box-orient: horizontal;\r\n  -webkit-box-direction: normal;\r\n      -ms-flex-direction: row;\r\n          flex-direction: row;\n}\r\n/* .set-device-form-item a {\r\n  flex: 1;\r\n  min-width: 150px;\r\n  text-decoration: none\r\n} */\n.set-device-form-item[data-v-146d4d3e] .el-select, .set-device-form-item[data-v-146d4d3e] .el-cascader, .set-device-form-item[data-v-146d4d3e] .el-input{\r\n  -webkit-box-flex: 3;\r\n      -ms-flex: 3;\r\n          flex: 3\n}\n.set-device-form-item[data-v-146d4d3e] .el-form-item__label {\r\n  min-width: 180px\n}\r\n/* 增加修改配置页面样式结束 */\r\n",""])},KvcW:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,o=e("a3Yh"),i=e.n(o),l=e("E4LH"),r={data:function(){var n;return{tableAll:{defaultSort:{prop:"createdTime",order:"descending"},status:{disabled:!1,status:"状态",isShow:!1},tableLabel:[{prop:"commEquipName",title:"设备名称"},{prop:"channelName",title:"所属通道"},{prop:"commAddress",title:"设备地址"},{prop:"localConnectUrl",title:"IP"},{prop:"localPort",title:"端口"},{prop:"commRelation",title:"设备关系"},{prop:"orgName",title:"组织机构"},{prop:"stationName",title:"站点"},{prop:"equipTypeName",title:"设备型号"},{prop:"remark",title:"备注",fixde:"right"}],tableData:[],tableOption:{isShow:!0,action:"操作",width:"200",buttons:[{label:"修改",methods:"detail",no:"1040:4"},{label:"删除",methods:"delete",no:"1040:8"}]},total:0,pageIndex:1,load:!1},getTable:{pageSize:10,pageNo:1,username:"",roleId:null,orderBy:""},setEquipTypeIdOptions:[],equipTypeIdOptions:[],commRelationOptions:[{label:"下位机",value:"1"},{label:"上位机",value:"2"},{label:"系统",value:"3"}],channelIdOptions:[],deviceTableHeight:"",dataFormSet:(n={commRelation:"",setOrgSelectedOptions:[],setSitevalue:null,channelName:null,equipTypeId:null,commEquipName:null,remark:null,localConnectUrl:null,commAddress:null},i()(n,"commRelation",null),i()(n,"localPort",null),n),dataFormSetRule:{setOrgSelectedOptions:[{required:!0,message:"组织机构不能为空",trigger:"blur"}],setSitevalue:[{required:!0,message:"站点不能为空",trigger:"blur"}],channelName:[{required:!0,message:"通道名称不能为空",trigger:"blur"}],equipTypeId:[{required:!0,message:"设备型号不能为空",trigger:"blur"}],commEquipName:[{required:!0,message:"设备名称不能为空",trigger:"blur"}],commRelation:[{required:!0,message:"设备关系不能为空",trigger:"blur"}],commAddress:[{required:!0,message:"设备地址不能为空",trigger:"blur"}],localConnectUrl:[{required:!0,message:"本地IP不能为空",trigger:"blur"},{validator:function(n,t,e){Object(l.b)(t)?e():e(new Error("IP地址不正确"))},trigger:"blur"}],localPort:[{required:!0,message:"本地端口不能为空",trigger:"blur"},{validator:function(n,t,e){/^\d+(\.\d+)?$/.test(t)||/^(-(([0-9]+\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]+)|([0-9]*[1-9][0-9]*)))$/.test(t)?e():e(new Error("端口地址请输入数字")),t>65535||t<0?e(new Error("地址超出1~65535范围")):e()},trigger:"blur"}]},passagewayOptions:[],deviceOptions:[],dialogTitle:"",siteOptions:[],orgOptions:[],dataForm:{orgSelectedOptions:[],sitevalue:null,channelId:null,equipTypeId:null},dataList:[],pageIndex:1,pageSize:10,totalPage:2,dataListLoading:!1,siteListLoading:!1,channelListLoading:!1,equipTypeIdLoading:!1,deviceOptionsLoading:!1,dataListSelections:[],addOrUpdateVisible:!1}},created:function(){this.deviceTableHeight=window.innerHeight-320},mounted:function(){this.getcommdeviceList(),this.getOrgLists(),window.onresize=function(){document.getElementById("commDevice")&&(this.tableHeight=window.innerHeight-320)}},components:{voTable:e("7iic").a},activated:function(){},watch:{"dataForm.orgSelectedOptions":function(n){this.dataForm.sitevalue=null,this.dataForm.channelId=null,this.dataForm.equipTypeId=null},"dataForm.sitevalue":function(n){this.dataForm.equipTypeId=null},"this.dataForm.channelId":function(n){this.dataForm.equipTypeId=null}},methods:(a={deleteAll:function(n){console.log(n),this.dataListSelections=n},action:function(n){console.log(n),"detail"===n.methods&&(console.log("这里添加详情函数"),this.addcommdevice(n.row)),"delete"===n.methods&&(console.log("这里添加删除函数"),this.deletecommdevice(n.row.commId))},search:function(n){var t=this;console.log(n),this.getTable.pageSize=n.pageSize,this.getTable.pageNo=n.pageNo,this.getTable.orderBy=n.orderBy,this.tableAll.load=!0,this.$http({url:this.$http.adornUrl("/admin/tcommequip/list"),method:"post",data:this.$http.adornParams({page:n.pageNo.toString(),limit:n.pageSize.toString(),orgId:0==this.dataForm.orgSelectedOptions.length?JSON.parse(window.sessionStorage.getItem("userInfo")).orgId:this.dataForm.orgSelectedOptions[this.dataForm.orgSelectedOptions.length-1],channelId:this.dataForm.channelId,equipTypeId:this.dataForm.equipTypeId,stationId:this.dataForm.sitevalue})}).then(function(n){var e=n.data;e&&0===e.code?(t.tableAll.tableData=e.page.list,t.tableAll.total=e.page.total):(t.tableAll.tableData=[],t.tableAll.total=0),t.tableAll.load=!1})},changeOrg:function(){this.dataFormSet.setSitevalue=null,this.dataFormSet.channelName=null},f:function(n,t){for(var e=0;e<n.length;e++){if(n[e].value==t)return this.dataFormSet.orgName=n[e].label;this.$options.methods.f.bind(this)(n[e].children,t)}},getEquipTypeList:function(){var n=this;this.$http({url:this.$http.adornUrl("/admin/tcommequip/queryequiptype"),method:"post",data:this.$http.adornParams({orgId:this.$store.state.user.orgId})}).then(function(t){var e=t.data;e&&0===e.code&&(n.setEquipTypeIdOptions=e.list)})}},i()(a,"f",function(n,t){for(var e=0;e<n.length;e++){if(n[e].value==t)return this.dataFormSet.orgName=n[e].label;this.$options.methods.f.bind(this)(n[e].children,t)}}),i()(a,"dataFormSubmit",function(n){var t=this;this.$refs.dataFormSet.validate(function(e){if(!e)return console.log("error submit!!"),!1;t.$confirm("确定提交?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http({url:t.$http.adornUrl("/admin/tcommequip/"+(void 0==t.dialogTitle?"save":"update")),method:"post",data:t.$http.adornData({commId:void 0==t.dialogTitle?null:t.dialogTitle,orgId:n.setOrgSelectedOptions[n.setOrgSelectedOptions.length-1],stationId:n.setSitevalue,channelId:n.channelName,equipTypeId:n.equipTypeId.toString(),commEquipName:n.commEquipName,remark:n.remark,commRelation:n.commRelation,commAddress:n.commAddress,localConnectUrl:n.localConnectUrl,localPort:n.localPort})}).then(function(e){var a=e.data;a&&0===a.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.addOrUpdateVisible=!1;for(var e=0;e<t.setEquipTypeIdOptions.length;e++)t.setEquipTypeIdOptions[e].value==n.equipTypeId&&(t.dataFormSet.equipTypeName=t.setEquipTypeIdOptions[e].label);for(var o=0;o<t.channelIdOptions.length;o++)t.channelIdOptions[o].value==n.channelName&&(t.dataFormSet.channelName=t.channelIdOptions[o].label);for(var i=0;i<t.siteOptions.length;i++)t.siteOptions[i].value==n.setSitevalue&&(t.dataFormSet.stationName=t.siteOptions[i].label);if(console.log(t.orgOptions),console.log(n.setOrgSelectedOptions[n.setOrgSelectedOptions.length-1]),t.$options.methods.f.bind(t)(t.orgOptions,n.setOrgSelectedOptions[n.setOrgSelectedOptions.length-1]),void 0==t.dialogTitle){var l={channelId:n.channelName,channelName:n.channelName,commEquipName:n.commEquipName,commId:a.id,equipTypeId:n.equipTypeId,equipTypeName:n.equipTypeName,orgId:n.setOrgSelectedOptions[n.setOrgSelectedOptions.length-1],orgName:n.orgName,remark:n.remark,stationId:n.setSitevalue,stationName:n.stationName,commRelation:n.commRelation,commAddress:n.commAddress,localPort:n.localPort,localConnectUrl:n.localConnectUrl};t.tableAll.tableData.unshift(l)}else{console.log(t.dialogTitle);for(var r=function(e){t.tableAll.tableData[e].commId==t.dialogTitle&&t.$nextTick(function(){t.tableAll.tableData[e].channelId=n.channelName,t.tableAll.tableData[e].channelId=n.channelName,t.tableAll.tableData[e].channelName=n.channelName,t.tableAll.tableData[e].commEquipName=n.commEquipName,t.tableAll.tableData[e].commId=t.dialogTitle,t.tableAll.tableData[e].equipTypeId=n.equipTypeId,t.tableAll.tableData[e].equipTypeId=n.equipTypeId,t.tableAll.tableData[e].orgId=n.setOrgSelectedOptions[n.setOrgSelectedOptions.length-1],t.tableAll.tableData[e].orgName=n.orgName,t.tableAll.tableData[e].remark=n.remark,t.tableAll.tableData[e].stationId=n.setSitevalue,t.tableAll.tableData[e].stationName=n.stationName,t.tableAll.tableData[e].commRelation=n.commRelation,t.tableAll.tableData[e].commAddress=n.commAddress,t.tableAll.tableData[e].localConnectUrl=n.localConnectUrl,t.tableAll.tableData[e].localPort=n.localPort})},s=0;s<t.tableAll.tableData.length;s++)r(s)}}}):t.$message.error(a.msg)})})})}),i()(a,"getEquipTypeLists",function(){var n=this;this.equipTypeIdLoading=!0,this.$http({url:this.$http.adornUrl("/admin/tcommequip/condition/equiptype"),method:"post",data:this.$http.adornParams({orgId:this.dataForm.orgSelectedOptions[this.dataForm.orgSelectedOptions.length-1],stationId:this.dataForm.sitevalue,channelId:this.dataForm.channelId})}).then(function(t){var e=t.data;e&&0===e.code&&(n.equipTypeIdLoading=!1,n.equipTypeIdOptions=e.list)})}),i()(a,"getChannelLists",function(){var n=this;this.channelIdOptions=[];var t=void 0;!0===this.addOrUpdateVisible?0===this.dataFormSet.setOrgSelectedOptions.length?this.$message({message:"请先选择组织机构",type:"success",duration:1500}):(t=this.dataFormSet.setOrgSelectedOptions[this.dataFormSet.setOrgSelectedOptions.length-1],this.channelListLoading=!0,this.$http({url:this.$http.adornUrl("/admin/tprotocolredismaster/channel"),method:"post",data:this.$http.adornParams({orgId:t})}).then(function(t){var e=t.data;e&&0===e.code&&(n.channelListLoading=!1,n.channelIdOptions=e.list)})):(t=this.dataForm.orgSelectedOptions[this.dataForm.orgSelectedOptions.length-1],this.channelListLoading=!0,this.$http({url:this.$http.adornUrl("/admin/tprotocolredismaster/channel"),method:"post",data:this.$http.adornParams({orgId:t})}).then(function(t){var e=t.data;e&&0===e.code&&(n.channelListLoading=!1,n.channelIdOptions=e.list)}))}),i()(a,"getsiteLists",function(){var n=this;this.siteOptions=[];var t=void 0;!0===this.addOrUpdateVisible?0===this.dataFormSet.setOrgSelectedOptions.length?this.$message({message:"请先选择组织机构",type:"success",duration:1500}):(t=this.dataFormSet.setOrgSelectedOptions[this.dataFormSet.setOrgSelectedOptions.length-1],this.siteListLoading=!0,this.$http({url:this.$http.adornUrl("/admin/tstation/station"),method:"post",data:this.$http.adornParams({orgId:t})}).then(function(t){var e=t.data;e&&0===e.code&&(n.siteListLoading=!1,n.siteOptions=e.list)})):(t=this.dataForm.orgSelectedOptions[this.dataForm.orgSelectedOptions.length-1],this.siteListLoading=!0,this.$http({url:this.$http.adornUrl("/admin/tstation/station"),method:"post",data:this.$http.adornParams({orgId:t})}).then(function(t){var e=t.data;e&&0===e.code&&(n.siteListLoading=!1,n.siteOptions=e.list)}))}),i()(a,"getOrgLists",function(){var n=this;this.$http({url:this.$http.adornUrl("/admin/tstation/org"),method:"post",data:this.$http.adornParams({})}).then(function(t){var e=t.data;e&&0===e.code&&(n.orgOptions=e.list,0==n.dataForm.orgSelectedOptions.length&&(n.dataForm.orgSelectedOptions=JSON.parse(window.sessionStorage.getItem("userInfo")).orgId.split()))})}),i()(a,"getcommdeviceList",function(n){var t=this;n&&(this.pageIndex=1),this.tableAll.load=!0,this.$http({url:this.$http.adornUrl("/admin/tcommequip/list"),method:"post",data:this.$http.adornParams({pageNumber:this.pageIndex.toString(),pageSize:this.pageSize.toString(),entity:{orgId:0==this.dataForm.orgSelectedOptions.length?JSON.parse(window.sessionStorage.getItem("userInfo")).orgId:this.dataForm.orgSelectedOptions[this.dataForm.orgSelectedOptions.length-1],channelId:this.dataForm.channelId,equipTypeId:this.dataForm.equipTypeId,stationId:this.dataForm.sitevalue}})}).then(function(n){var e=n.data;e&&0===e.code?(t.tableAll.tableData=e.page.list,t.tableAll.total=e.page.total):(t.tableAll.tableData=[],t.tableAll.total=0),t.tableAll.load=!1})}),i()(a,"sizeChangeHandle",function(n){this.pageSize=n,this.pageIndex=1,this.$options.methods.getcommdeviceList.bind(this)()}),i()(a,"currentChangeHandle",function(n){this.pageIndex=n,this.$options.methods.getcommdeviceList.bind(this)()}),i()(a,"selectionChangeHandle",function(n){this.dataListSelections=n}),i()(a,"addcommdevice",function(n){var t=this;this.addOrUpdateVisible=!0,this.$nextTick(function(){this.$refs.dataFormSet.resetFields()}),n?(this.$http({url:this.$http.adornUrl("/admin/tstation/station"),method:"post",data:this.$http.adornParams({orgId:this.dataForm.orgSelectedOptions[this.dataForm.orgSelectedOptions.length-1]})}).then(function(n){var e=n.data;e&&0===e.code&&(t.siteOptions=e.list)}),this.$http({url:this.$http.adornUrl("/admin/tprotocolredismaster/channel"),method:"post",data:this.$http.adornParams({orgId:this.dataForm.orgSelectedOptions[this.dataForm.orgSelectedOptions.length-1]})}).then(function(n){var e=n.data;e&&0===e.code&&(t.channelIdOptions=e.list)}),this.$http({url:this.$http.adornUrl("/admin/tcommequip/equiptype"),method:"post",data:this.$http.adornParams({orgId:this.dataForm.orgSelectedOptions[this.dataForm.orgSelectedOptions.length-1]})}).then(function(n){var e=n.data;e&&0===e.code&&(t.setEquipTypeIdOptions=e.list)}),this.$http({url:this.$http.adornUrl("/admin/tstation/orgName"),method:"post",data:this.$http.adornData({orgId:n.orgId})}).then(function(n){var e=n.data;e&&0===e.code?t.dataFormSet.setOrgSelectedOptions=e.list:t.dataFormSet.setOrgSelectedOptions=[]}),this.$nextTick(function(){this.dialogTitle=n.commId,this.dataFormSet.setSitevalue=n.orgId.toString(),this.dataFormSet.setSitevalue=n.stationId.toString(),this.dataFormSet.channelName=n.channelId.toString(),this.dataFormSet.equipTypeId=n.equipTypeId,this.dataFormSet.commEquipName=n.commEquipName,this.dataFormSet.remark=n.remark,this.dataFormSet.commRelation=n.commRelation,this.dataFormSet.commAddress=n.commAddress,this.dataFormSet.localConnectUrl=n.localConnectUrl,this.dataFormSet.localPort=n.localPort})):this.dialogTitle=n}),i()(a,"deletecommdevice",function(n){var t=this;console.log(n);var e=n?[n]:this.dataListSelections.map(function(n){return n.commId});this.$confirm("确定删除操作?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$http({url:t.$http.adornUrl("/admin/tcommequip/delete"),method:"post",data:t.$http.adornData(e,!1)}).then(function(n){var e=n.data;e&&0===e.code?t.$message({message:"操作成功",type:"success",duration:1500,onClose:function(){t.getcommdeviceList()}}):t.$message.error(e.msg)})}).catch(function(){})}),a)},s={render:function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"comm-device",attrs:{id:"commDevice"}},[e("el-form",{staticClass:"device-form",attrs:{inline:!0,model:n.dataForm},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.getcommdeviceList()}}},[e("el-form-item",{staticClass:"device-form-item"},[e("el-cascader",{attrs:{options:n.orgOptions,"change-on-select":"",placeholder:"选择组织机构"},model:{value:n.dataForm.orgSelectedOptions,callback:function(t){n.$set(n.dataForm,"orgSelectedOptions",t)},expression:"dataForm.orgSelectedOptions"}})],1),n._v(" "),e("el-form-item",{staticClass:"device-form-item"},[e("el-select",{attrs:{filterable:"",placeholder:"选择站点",loading:n.siteListLoading,clearable:""},nativeOn:{click:function(t){n.getsiteLists()}},model:{value:n.dataForm.sitevalue,callback:function(t){n.$set(n.dataForm,"sitevalue",t)},expression:"dataForm.sitevalue"}},n._l(n.siteOptions,function(n){return e("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),e("el-form-item",{staticClass:"device-form-item"},[e("el-select",{attrs:{filterable:"",placeholder:"选择通道",loading:n.channelListLoading,clearable:""},nativeOn:{click:function(t){n.getChannelLists()}},model:{value:n.dataForm.channelId,callback:function(t){n.$set(n.dataForm,"channelId",t)},expression:"dataForm.channelId"}},n._l(n.channelIdOptions,function(n){return e("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),e("el-form-item",{staticClass:"device-form-item"},[e("el-select",{attrs:{filterable:"",placeholder:"选择设备型号",loading:n.equipTypeIdLoading,clearable:""},nativeOn:{click:function(t){n.getEquipTypeLists()}},model:{value:n.dataForm.equipTypeId,callback:function(t){n.$set(n.dataForm,"equipTypeId",t)},expression:"dataForm.equipTypeId"}},n._l(n.equipTypeIdOptions,function(n){return e("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),e("el-form-item",{staticClass:"device-form-item"},[e("el-button",{attrs:{type:"success"},on:{click:function(t){n.getcommdeviceList("params")}}},[n._v("查询")]),n._v(" "),n.isAuth(n.OPTAUTH_ADD)?e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.addcommdevice()}}},[n._v("新增")]):n._e(),n._v(" "),n.isAuth(n.OPTAUTH_DELETE)?e("el-button",{attrs:{type:"danger",disabled:n.dataListSelections.length<=0},on:{click:function(t){n.deletecommdevice()}}},[n._v("批量删除")]):n._e()],1)],1),n._v(" "),e("div",{staticClass:"device-list"},[e("voTable",{attrs:{table:n.tableAll,pageParam:n.getTable},on:{search:n.search,action:n.action,deleteAll:n.deleteAll}})],1),n._v(" "),e("el-dialog",{attrs:{title:void 0==n.dialogTitle?"新  增":"修  改","close-on-click-modal":!1,visible:n.addOrUpdateVisible,center:"center"},on:{"update:visible":function(t){n.addOrUpdateVisible=t}}},[e("el-form",{ref:"dataFormSet",staticClass:"set-device-form",attrs:{model:n.dataFormSet,"label-width":"80px",rules:n.dataFormSetRule},nativeOn:{keyup:function(t){if(!("button"in t)&&n._k(t.keyCode,"enter",13,t.key))return null;n.dataFormSubmit()}}},[e("el-form-item",{staticClass:"set-device-form-item",attrs:{prop:"commEquipName",label:"设备名称"}},[e("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:n.dataFormSet.commEquipName,callback:function(t){n.$set(n.dataFormSet,"commEquipName",t)},expression:"dataFormSet.commEquipName"}})],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{label:"组织机构",prop:"setOrgSelectedOptions"}},[e("el-cascader",{attrs:{options:n.orgOptions,"change-on-select":""},on:{change:n.changeOrg},model:{value:n.dataFormSet.setOrgSelectedOptions,callback:function(t){n.$set(n.dataFormSet,"setOrgSelectedOptions",t)},expression:"dataFormSet.setOrgSelectedOptions"}})],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{label:"站点",prop:"setSitevalue"}},[e("el-select",{attrs:{filterable:"",placeholder:"请选择",loading:n.siteListLoading},nativeOn:{click:function(t){n.getsiteLists()}},model:{value:n.dataFormSet.setSitevalue,callback:function(t){n.$set(n.dataFormSet,"setSitevalue",t)},expression:"dataFormSet.setSitevalue"}},n._l(n.siteOptions,function(n){return e("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{label:"所属通道",prop:"channelName"}},[e("el-select",{attrs:{filterable:"",placeholder:"请选择",loading:n.channelListLoading},nativeOn:{click:function(t){n.getChannelLists()}},model:{value:n.dataFormSet.channelName,callback:function(t){n.$set(n.dataFormSet,"channelName",t)},expression:"dataFormSet.channelName"}},n._l(n.channelIdOptions,function(n){return e("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{prop:"commAddress",label:"设备地址"}},[e("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:n.dataFormSet.commAddress,callback:function(t){n.$set(n.dataFormSet,"commAddress",t)},expression:"dataFormSet.commAddress"}})],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{prop:"localConnectUrl",label:"IP"}},[e("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:n.dataFormSet.localConnectUrl,callback:function(t){n.$set(n.dataFormSet,"localConnectUrl",t)},expression:"dataFormSet.localConnectUrl"}})],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{prop:"localPort",label:"端口"}},[e("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:n.dataFormSet.localPort,callback:function(t){n.$set(n.dataFormSet,"localPort",t)},expression:"dataFormSet.localPort"}})],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{label:"设备关系",prop:"commRelation"}},[e("el-select",{attrs:{filterable:"",placeholder:"请选择"},model:{value:n.dataFormSet.commRelation,callback:function(t){n.$set(n.dataFormSet,"commRelation",t)},expression:"dataFormSet.commRelation"}},n._l(n.commRelationOptions,function(n){return e("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{label:"设备型号",prop:"equipTypeId"}},[e("el-select",{attrs:{filterable:"",placeholder:"请选择",loading:n.equipTypeIdLoading},nativeOn:{click:function(t){n.getEquipTypeList()}},model:{value:n.dataFormSet.equipTypeId,callback:function(t){n.$set(n.dataFormSet,"equipTypeId",t)},expression:"dataFormSet.equipTypeId"}},n._l(n.setEquipTypeIdOptions,function(n){return e("el-option",{key:n.value,attrs:{label:n.label,value:n.value}})}))],1),n._v(" "),e("el-form-item",{staticClass:"set-device-form-item",attrs:{label:"备注",prop:"remark"}},[e("el-input",{attrs:{type:"textarea",rows:3,placeholder:"请输入内容"},model:{value:n.dataFormSet.remark,callback:function(t){n.$set(n.dataFormSet,"remark",t)},expression:"dataFormSet.remark"}})],1)],1),n._v(" "),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(t){n.addOrUpdateVisible=!1}}},[n._v("取消")]),n._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:function(t){n.dataFormSubmit(n.dataFormSet)}}},[n._v("确定")])],1)],1)],1)},staticRenderFns:[]};var d=e("46Yf")(r,s,!1,function(n){e("+/Eo"),e("nzUh")},"data-v-146d4d3e",null);t.default=d.exports},Sc3V:function(n,t,e){(n.exports=e("acE3")(!1)).push([n.i,"\n.el-scrollbar__wrap {\r\n  overflow-x: auto;\n}\r\n",""])},nzUh:function(n,t,e){var a=e("Sc3V");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);e("XkoO")("192ca180",a,!0)}});